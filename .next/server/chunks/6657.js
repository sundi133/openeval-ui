exports.id=6657,exports.ids=[6657],exports.modules={45780:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});var t=a(20997),l=a(83300);let r=function({Component:e,pageProps:s}){return t.jsx(l.ClerkProvider,{...s,children:t.jsx(e,{...s})})}},99633:(e,s,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{default:()=>c});var l=a(20997),r=a(16689),i=a(83300);a(69603);var n=a(99648),d=e([n]);n=(d.then?(await d)():d)[0];let c=({datagen_id:e,size:s})=>{let[a,t]=(0,r.useState)([]),{session:d}=(0,i.useClerk)(),[c,o]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),[h,j]=(0,r.useState)(!1),[g,p]=(0,r.useState)(0),[u,N]=(0,r.useState)(0),[v,b]=(0,r.useState)(0),[f,y]=(0,r.useState)(""),[w,_]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[q,C]=(0,r.useState)(""),[A,O]=(0,r.useState)(""),[J,z]=(0,r.useState)(!1),[Q,R]=(0,r.useState)(""),[E,F]=(0,r.useState)(!1),I="px-4 py-2 leading-5 text-center bg-gray-50 text-sm text-gray-900 tracking-wider",P="px-6 py-4 leading-5 text-center bg-white text-sm text-gray-900 tracking-wider whitespace-no-wrap leading-5";if((0,r.useEffect)(()=>{let e=async()=>{await D(),await $()};if("completed"===q||"error"===q)F(!0);else{e();let s=setInterval(()=>{e()},5e3);return()=>clearInterval(s)}},[d,q]),!d||!e)return null;let $=async()=>{try{z(!0);let s=(await n.default.get("https://ragevals-lively-snowflake-5923-divine-bird-6466.fly.dev/api/qa-data",{params:{dataset_id:e,org_id:d.lastActiveOrganizationId,skip:0,limit:100}})).data;t(s)}catch(e){console.error("Error fetching QA data:",e)}finally{z(!1)}},D=async()=>{try{z(!0);let s=(await n.default.get("https://ragevals-lively-snowflake-5923-divine-bird-6466.fly.dev/api/dataset",{params:{dataset_id:e,org_id:d.lastActiveOrganizationId}})).data;o(s.name),m(s.ts),p(s.number_of_questions),b(s.sample_size),N(s.chunk_size??2e3),y(s.persona),O(s.dataset_type),C(s.status),_(s.data_source),R(s.error_msg),k(s.tags)}catch(e){console.error("Error fetching dataset details:",e)}finally{z(!1)}};return l.jsx("main",{className:`p-4 md:p-10 mx-auto max-w-${s}`,children:l.jsx("div",{children:d?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold mb-4 items-center justify-center",children:[c," (.",A.toLowerCase(),")"]}),(0,l.jsxs)("div",{className:"grid grid-cols-12 gap-2 text-sm",children:[(0,l.jsxs)("div",{className:"col-span-2",children:[l.jsx("div",{className:"font-bold mb-2",children:"Created At:"}),l.jsx("div",{className:"text-gray-700",children:new Date(x).toLocaleString()})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[l.jsx("div",{className:"font-bold mb-2",children:"Questions Per Sample:"}),l.jsx("div",{className:"text-gray-700",children:g})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[l.jsx("div",{className:"font-bold mb-2",children:"Sample Percentage:"}),(0,l.jsxs)("div",{className:"text-gray-700",children:[v," %"]})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[l.jsx("div",{className:"font-bold mb-2",children:"Chunk Size:"}),l.jsx("div",{className:"text-gray-700",children:u})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[l.jsx("div",{className:"font-bold mb-2",children:"Status:"}),l.jsx("div",{className:"completed"===q?"text-green-500":"text-red-500",children:q})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[l.jsx("div",{className:"font-bold mb-2",children:"Data Source:"}),l.jsx("div",{className:"text-gray-700",children:w})]})]}),l.jsx("div",{className:"mt-4 grid grid-cols-2 gap-8 text-sm",children:(0,l.jsxs)("div",{className:"col-span-12",children:[l.jsx("div",{className:"font-bold mb-2",children:"Persona:"}),l.jsx("div",{className:"text-gray-700",children:f})]})}),l.jsx("div",{className:"mt-4 grid grid-cols-2 gap-8 text-sm",children:(0,l.jsxs)("div",{className:"col-span-12",children:[l.jsx("div",{className:"font-bold mb-2",children:"Tags:"}),l.jsx("div",{className:"text-gray-700",children:S})]})}),!E&&l.jsx("div",{className:"mt-4 grid grid-cols-12 text-sm",children:l.jsx("div",{className:"flex justify-start items-justify-start",children:l.jsx("div",{className:"loader"})})})]}),(0,l.jsxs)("table",{className:"w-full mt-2 border-collapse border table-auto",children:[l.jsx("thead",{children:(0,l.jsxs)("tr",{children:[l.jsx("th",{className:I,children:"Timestamp"}),l.jsx("th",{className:I,children:"Chat Messages"}),l.jsx("th",{className:I,children:"Reference Chunk"})]})}),(0,l.jsxs)("tbody",{children:[0===a.length&&l.jsx("tr",{className:"border-b",children:l.jsx("td",{colSpan:3,className:P,children:l.jsx("div",{className:"text-sm",children:l.jsx("p",{children:Q})})})}),a.length>0&&a.map(e=>(0,l.jsxs)(r.Fragment,{children:[h&&h===e.id&&l.jsx("tr",{className:"border-b",children:l.jsx("td",{colSpan:3,className:"px-6 py-4 leading-5 bg-white text-sm text-gray-900 whitespace-no-wrap leading-5",children:(0,l.jsxs)("div",{className:"text-sm",children:[l.jsx("p",{children:l.jsx("strong",{children:"Reference Chunk:"})}),l.jsx("p",{children:e.reference_chunk})]})})}),(0,l.jsxs)("tr",{className:"border-b",children:[l.jsx("td",{className:P,style:{verticalAlign:"top"},children:e.ts}),l.jsx("td",{className:P,style:{verticalAlign:"top"},children:(0,l.jsxs)("ul",{className:"text-left space-y-4",children:[JSON.parse(e.chat_messages).question_answer&&(0,l.jsxs)("li",{className:"mb-2",children:[l.jsx("strong",{children:"Question:"})," ",JSON.parse(e.chat_messages).question_answer.question,l.jsx("br",{}),l.jsx("strong",{children:"Answer:"})," ",JSON.parse(e.chat_messages).question_answer.answer]}),JSON.parse(e.chat_messages).question_answer&&[...[,,,].keys()].map(s=>JSON.parse(e.chat_messages).question_answer[`follow_up_question_${s+1}`]&&(0,l.jsxs)("li",{children:[(0,l.jsxs)("strong",{children:["Follow-up Question ",s+1,": "]}),JSON.parse(e.chat_messages).question_answer[`follow_up_question_${s+1}`],","," ",l.jsx("br",{}),(0,l.jsxs)("strong",{children:["Follow-up Answer ",s+1,": "]})," ",JSON.parse(e.chat_messages).question_answer[`follow_up_answer_${s+1}`]]},s+1))]})}),l.jsx("td",{className:P,style:{verticalAlign:"top"},children:l.jsx("button",{className:"text-blue-500 underline cursor-pointer",onClick:()=>j(h===e.id?null:e.id),children:h===e.id?"Collapse Reference":"Expand Reference"})})]})]},e.id))]})]})]}):l.jsx("div",{children:J?l.jsx(l.Fragment,{}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:["Chat QA data generation is in progress for ",l.jsx("span",{className:"font-bold",children:c})]}),l.jsx("button",{className:"bg-gray-700 text-sm text-white px-4 py-2 rounded-md mt-4",onClick:()=>{D(),$()},disabled:J,children:"Refresh"})]})})})})};t()}catch(e){t(e)}})},69603:()=>{}};