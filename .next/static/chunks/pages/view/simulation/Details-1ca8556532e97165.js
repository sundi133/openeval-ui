(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8513],{7833:function(e,s,t){"use strict";t.d(s,{z:function(){return a.Z}});var a=t(8246)},42:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/view/simulation/Details",function(){return t(6138)}])},6138:function(e,s,t){"use strict";t.r(s);var a=t(5893),i=t(7294);t(9332),t(2066),t(5675);var n=t(9356);t(9182),t(1163);var r=t(5121),l=t(7833),d=t(1664),c=t.n(d);s.default=e=>{let{simulation_id:s}=e,[t,d]=(0,i.useState)([]),{session:o}=(0,n.ll)(),{isLoaded:m,userId:u,sessionId:x,getToken:h,orgId:g}=(0,n.aC)(),[f,v]=(0,i.useState)(""),[j,p]=(0,i.useState)(!1),[b,N]=(0,i.useState)(!1),[_,w]=(0,i.useState)(!1),[y,S]=(0,i.useState)(""),[E,O]=(0,i.useState)(""),[k,C]=(0,i.useState)(""),[z,D]=(0,i.useState)(""),[F,T]=(0,i.useState)(""),[A,L]=(0,i.useState)(""),[P,Z]=(0,i.useState)(""),[q,I]=(0,i.useState)("");if((0,i.useEffect)(()=>{(async()=>{try{p(!0);let e=(await r.Z.get("".concat("http://0.0.0.0:8000","/api/simulation/id"),{params:{user_id:u,org_id:o.lastActiveOrganizationId,simulation_id:"".concat(s)}})).data;S(e.dataset_id),O(e.endpoint_url_id),C(e.name),D(e.num_users),T(e.order_of_questions),L(e.percentage_of_questions),Z(e.ts)}catch(e){console.error("Error fetching dataset details:",e)}finally{p(!1)}})()},[o,s,u]),!o)return null;let Q=async()=>{try{p(!0);let e=new FormData;e.append("user_id",u),e.append("org_id",o.lastActiveOrganizationId),e.append("simulation_id",s);let t=await r.Z.post("".concat("http://0.0.0.0:8000","/api/simulation/trigger"),e);if(200===t.status){let e=t.data;I("Evaluation id ".concat(e.simulation_id," triggered successfully."))}else v("Oops! failed to trigger simulation, please try again.")}catch(e){console.error("Error fetching dataset details:",e)}finally{p(!1)}};return(0,a.jsx)("main",{className:"p-4 md:p-10 mx-auto max-w-7xl",children:(0,a.jsx)("div",{children:o?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 items-center justify-center",children:["Evaluation ",k]}),(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Created At:"}),(0,a.jsx)("div",{className:"text-gray-700",children:new Date(P).toLocaleString()})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Dataset:"}),(0,a.jsx)("div",{className:"text-blue-500",children:(0,a.jsx)(c(),{href:"/view/datasets/".concat(y),rel:"noopener noreferrer",children:y})})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"LLM Endpoint:"}),(0,a.jsx)("div",{className:"text-blue-500",children:(0,a.jsx)(c(),{href:"/view/endpoints/".concat(E),rel:"noopener noreferrer",children:E})})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-8 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Number of Users:"}),(0,a.jsx)("div",{className:"text-gray-700",children:z})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Order of Questions:"}),(0,a.jsx)("div",{className:"text-gray-700",children:F})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Percentage of Questions:"}),(0,a.jsx)("div",{className:"text-gray-700",children:A})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:(0,a.jsx)(l.z,{className:"bg-gray-900 border border-white hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",onClick:Q,disabled:j,children:j?"Submitting retrigger...":"Retrigger Simulation"})}),q?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[(0,a.jsx)("div",{className:"text-xl font-bold mb-4 items-center justify-center",children:"Simulation Triggered Successfully"}),(0,a.jsx)("div",{className:"text-gray-700",children:q})]}):(0,a.jsx)(a.Fragment,{}),f?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[(0,a.jsx)("div",{className:"text-xl font-bold mb-4 items-center justify-center",children:"Error Triggering Simulation"}),(0,a.jsx)("div",{className:"text-gray-700",children:f})]}):(0,a.jsx)(a.Fragment,{})]}):(0,a.jsx)("div",{children:j||_?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("div",{})})})})}},9182:function(){}},function(e){e.O(0,[5121,2066,8246,1664,5675,1303,2888,9774,179],function(){return e(e.s=42)}),_N_E=e.O()}]);