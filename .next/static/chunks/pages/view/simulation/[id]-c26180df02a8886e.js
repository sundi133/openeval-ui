(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7832],{7833:function(e,s,t){"use strict";t.d(s,{z:function(){return a.Z}});var a=t(8246)},7365:function(e,s,t){"use strict";t(8246),t(4940),t(3348),t(7641),t(9970)},8247:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/view/simulation/[id]",function(){return t(6122)}])},7136:function(e,s,t){"use strict";t.d(s,{Z:function(){return g}});var a=t(5893),i=t(7294),r=t(9332),n=t(8368),l=t(1182),d=t(7106),c=t(1415),o=t(3407),m=t(2066),h=t(9356),x=t(4123);let u=[{name:"Data Generation",href:"/",path:["/add/dataset","/view/datasets"]},{name:"LLM Hub",href:"/llmhub",path:["/add/endpoint","/view/endpoints"]},{name:"Evaluation",href:"/simulate",path:["/add/simulator","/view/simulation/"]},{name:"Assessment",href:"/evaluation",path:["/view/evaluation"]},{name:"CICD",href:"/cicd",path:["/cicd"]},{name:"Settings",href:"/settings",path:["/settings","/tokens","/openai-key"]}];function f(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")}function g(){let e=(0,r.usePathname)(),{isLoaded:s,userId:t,sessionId:g,getToken:v}=(0,h.aC)();return s&&t?(0,a.jsx)(n.p,{as:"nav",className:"bg-gray-50 shadow-sm",children:s=>{let{open:r}=s;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex h-16 justify-between",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex flex-shrink-0 items-center",children:(0,a.jsxs)("svg",{width:"64px",height:"64px",viewBox:"-389.12 -389.12 1802.24 1802.24",className:"icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",stroke:"#000000",strokeWidth:"0.01024",children:[(0,a.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,a.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#CCCCCC",strokeWidth:"4.096"}),(0,a.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[(0,a.jsx)("path",{d:"M304 592h416l104 296h-624L304 592z m328 128c12.8 0 24-11.2 24-24s-11.2-24-24-24-24 11.2-24 24 11.2 24 24 24z m-256-48c12.8 0 24-11.2 24-24s-11.2-24-24-24-24 11.2-24 24 11.2 24 24 24z m136 112c9.6 0 16-6.4 16-16s-6.4-16-16-16-16 6.4-16 16 6.4 16 16 16z m8-256c-12.8 0-24-11.2-24-24s11.2-24 24-24 24 11.2 24 24-11.2 24-24 24z m104 48c-9.6 0-16-6.4-16-16s6.4-16 16-16 16 6.4 16 16-6.4 16-16 16z",fill:"#1e1721"}),(0,a.jsx)("path",{d:"M622.4 112H401.6c9.6 76.8 14.4 142.4 14.4 176 0 35.2-65.6 248-200 592h593.6C673.6 536 608 323.2 608 288c0-33.6 4.8-99.2 14.4-176z m32 0c-9.6 78.4-14.4 144-14.4 176 0 28.8 67.2 248 198.4 580.8 1.6 3.2 1.6 8 1.6 11.2 0 17.6-14.4 32-32 32H214.4c-4.8 0-8 0-11.2-1.6-16-6.4-24-25.6-17.6-41.6C316.8 536 384 316.8 384 288c0-32-4.8-97.6-14.4-176H368c-9.6 0-16-6.4-16-16s6.4-16 16-16h288c9.6 0 16 6.4 16 16s-6.4 16-17.6 16c1.6 0 0 0 0 0z",fill:"#2c2d35"}),(0,a.jsx)("path",{d:"M424 480h48c4.8 0 8 3.2 8 8s-3.2 8-8 8H432v48h24c4.8 0 8 3.2 8 8s-3.2 8-8 8H432v48h40c4.8 0 8 3.2 8 8s-3.2 8-8 8H432v48h24c4.8 0 8 3.2 8 8s-3.2 8-8 8H432v48h40c4.8 0 8 3.2 8 8s-3.2 8-8 8H416V480h8z",fill:"#2c2d35"})]})]})}),(0,a.jsx)("div",{className:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8",children:t?u.map(s=>(0,a.jsx)("a",{href:s.href,className:f(s.path.some(s=>null==e?void 0:e.startsWith(s))||e===s.href?"border-slate-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"),"aria-current":s.path.some(s=>null==e?void 0:e.startsWith(s))||e===s.href?"page":void 0,children:s.name},s.name)):(0,a.jsx)("div",{})})]}),(0,a.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:(0,a.jsxs)(l.v,{as:"div",className:"relative ml-3",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(l.v.Button,{className:"flex rounded-full bg-gray-50 text-sm focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,a.jsx)("span",{className:"text-xs text-gray-700 whitespace-nowrap"}),(0,a.jsxs)("div",{className:"h-8 w-8 rounded-full text-white text-center flex items-center justify-center",children:[(0,a.jsx)(x.CH,{children:(0,a.jsx)(h.l8,{afterSignOutUrl:"/sign-in",showName:!0})}),(0,a.jsx)(x.tj,{children:(0,a.jsx)(h.$d,{})})]})]})}),(0,a.jsx)(d.u,{as:i.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsx)(l.v.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,a.jsx)(l.v.Item,{as:"div"})})})]})}),(0,a.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,a.jsxs)(n.p.Button,{className:"inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),r?(0,a.jsx)(c.Z,{className:"block h-6 w-6","aria-hidden":"true"}):(0,a.jsx)(o.Z,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),(0,a.jsxs)(n.p.Panel,{className:"sm:hidden",children:[(0,a.jsx)("div",{className:"space-y-1 pt-2 pb-3",children:t?u.map(s=>(0,a.jsx)(n.p.Button,{as:"a",href:s.href,className:f(s.path.some(s=>null==e?void 0:e.startsWith(s))||e===s.href?"bg-slate-50 border-slate-500 text-slate-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"),"aria-current":s.path.some(s=>null==e?void 0:e.startsWith(s))||e===s.href?"page":void 0,children:s.name},s.name)):(0,a.jsx)("div",{})}),(0,a.jsx)("div",{className:"border-t border-gray-200 pt-4 pb-3",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center px-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsxs)("div",{className:"h-8 w-8 rounded-full text-white text-center flex items-center justify-center",children:[(0,a.jsx)(x.CH,{children:(0,a.jsx)(h.l8,{afterSignOutUrl:"/sign-in"})}),(0,a.jsx)(x.tj,{children:(0,a.jsx)(h.$d,{})})]})}),(0,a.jsx)("div",{className:"ml-3"})]}),(0,a.jsx)("div",{className:"mt-3 space-y-1"})]}):(0,a.jsx)("div",{className:"mt-3 space-y-1",children:(0,a.jsx)("button",{onClick:()=>(0,m.zB)("github"),className:"flex w-full px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:(0,a.jsx)(h.$d,{})})})})]})]})}}):null}},6138:function(e,s,t){"use strict";t.r(s);var a=t(5893),i=t(7294);t(9332),t(2066),t(5675);var r=t(9356);t(9182),t(1163);var n=t(5121),l=t(7833),d=t(1664),c=t.n(d);s.default=e=>{let{simulation_id:s}=e,[t,d]=(0,i.useState)([]),{session:o}=(0,r.ll)(),{isLoaded:m,userId:h,sessionId:x,getToken:u,orgId:f}=(0,r.aC)(),[g,v]=(0,i.useState)(""),[j,p]=(0,i.useState)(!1),[b,N]=(0,i.useState)(!1),[y,w]=(0,i.useState)(!1),[_,S]=(0,i.useState)(""),[C,k]=(0,i.useState)(""),[z,E]=(0,i.useState)(""),[H,O]=(0,i.useState)(""),[F,L]=(0,i.useState)(""),[W,Z]=(0,i.useState)(""),[B,T]=(0,i.useState)(""),[A,D]=(0,i.useState)("");if((0,i.useEffect)(()=>{(async()=>{try{p(!0);let e=(await n.Z.get("".concat("http://0.0.0.0:8000","/api/simulation/id"),{params:{user_id:h,org_id:o.lastActiveOrganizationId,simulation_id:"".concat(s)}})).data;S(e.dataset_id),k(e.endpoint_url_id),E(e.name),O(e.num_users),L(e.order_of_questions),Z(e.percentage_of_questions),T(e.ts)}catch(e){console.error("Error fetching dataset details:",e)}finally{p(!1)}})()},[o,s,h]),!o)return null;let I=async()=>{try{p(!0);let e=new FormData;e.append("user_id",h),e.append("org_id",o.lastActiveOrganizationId),e.append("simulation_id",s);let t=await n.Z.post("".concat("http://0.0.0.0:8000","/api/simulation/trigger"),e);if(200===t.status){let e=t.data;D("Evaluation id ".concat(e.simulation_id," triggered successfully."))}else v("Oops! failed to trigger simulation, please try again.")}catch(e){console.error("Error fetching dataset details:",e)}finally{p(!1)}};return(0,a.jsx)("main",{className:"p-4 md:p-10 mx-auto max-w-7xl",children:(0,a.jsx)("div",{children:o?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 items-center justify-center",children:["Evaluation ",z]}),(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Created At:"}),(0,a.jsx)("div",{className:"text-gray-700",children:new Date(B).toLocaleString()})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Dataset:"}),(0,a.jsx)("div",{className:"text-blue-500",children:(0,a.jsx)(c(),{href:"/view/datasets/".concat(_),rel:"noopener noreferrer",children:_})})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"LLM Endpoint:"}),(0,a.jsx)("div",{className:"text-blue-500",children:(0,a.jsx)(c(),{href:"/view/endpoints/".concat(C),rel:"noopener noreferrer",children:C})})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-8 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Number of Users:"}),(0,a.jsx)("div",{className:"text-gray-700",children:H})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Order of Questions:"}),(0,a.jsx)("div",{className:"text-gray-700",children:F})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-bold mb-2",children:"Percentage of Questions:"}),(0,a.jsx)("div",{className:"text-gray-700",children:W})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:(0,a.jsx)(l.z,{className:"bg-gray-900 border border-white hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",onClick:I,disabled:j,children:j?"Submitting retrigger...":"Retrigger Simulation"})}),A?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[(0,a.jsx)("div",{className:"text-xl font-bold mb-4 items-center justify-center",children:"Simulation Triggered Successfully"}),(0,a.jsx)("div",{className:"text-gray-700",children:A})]}):(0,a.jsx)(a.Fragment,{}),g?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[(0,a.jsx)("div",{className:"text-xl font-bold mb-4 items-center justify-center",children:"Error Triggering Simulation"}),(0,a.jsx)("div",{className:"text-gray-700",children:g})]}):(0,a.jsx)(a.Fragment,{})]}):(0,a.jsx)("div",{children:j||y?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("div",{})})})})}},6122:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(5893);t(7294),t(9743),t(7365),t(1664);var i=t(6138),r=t(7136),n=t(1163),l=t(9356);function d(){let{id:e}=(0,n.useRouter)().query,{session:s}=(0,l.ll)();return s?e?(0,a.jsxs)("main",{children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)(i.default,{simulation_id:e})]}):(0,a.jsx)("div",{children:"Loading..."}):null}t(9182)},9182:function(){}},function(e){e.O(0,[5121,2066,8246,3716,1664,5675,4547,1303,2888,9774,179],function(){return e(e.s=8247)}),_N_E=e.O()}]);