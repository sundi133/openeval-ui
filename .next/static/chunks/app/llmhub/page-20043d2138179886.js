(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2805],{9791:function(e,t,n){Promise.resolve().then(n.bind(n,338))},338:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s=n(3827),a=n(4990),r=n(8792),i=n(1693),l=n(6269),c=n(4090);n(2445);var o=n(7908),d=n(7535),h=n(8024),u=function(e){let{searchTerm:t}=e,{isLoaded:n,userId:a,sessionId:l,getToken:u}=(0,i.aC)(),x="px-4 py-2 leading-5 text-center bg-gray-50 text-sm text-gray-900 tracking-wider",m="px-6 py-4 leading-5 text-center bg-white text-sm text-gray-900 tracking-wider whitespace-no-wrap leading-5",[g,p]=(0,c.useState)([]),[f,j]=(0,c.useState)(null),[v,y]=(0,c.useState)("No dataset found. Why not create a new dataset? Click the button\n  above to get started!"),[w,N]=(0,c.useState)(!0),[b,k]=(0,c.useState)(0),{session:_}=(0,i.ll)(),[E,z]=(0,c.useState)("");if((0,c.useEffect)(()=>{let e=async()=>{try{var e;N(!0),z(null!==(e=null==_?void 0:_.lastActiveOrganizationId)&&void 0!==e?e:""),k(1),(null==_?void 0:_.lastActiveOrganizationId)?y("No llm endpoint found. Why not create a new one ? Click the button\n            above to get started!"):(k(0),y("No organization found. Please create an organization first."))}catch(e){console.error("Error fetching user data:",e)}finally{N(!1)}};_&&e()},[_]),(0,c.useEffect)(()=>{let e=async()=>{try{if(N(!0),""!==t.trim()){let e=(await o.Z.get("".concat("http://0.0.0.0:8000","/api/llm-endpoints/search"),{params:{org_id:null==_?void 0:_.lastActiveOrganizationId,search:t}})).data;p(e)}else{let e=(await o.Z.get("".concat("http://0.0.0.0:8000","/api/llm-endpoints/list"),{params:{org_id:null==_?void 0:_.lastActiveOrganizationId}})).data;p(e)}N(!1),k(1)}catch(e){k(0),console.error("Error fetching:",e),N(!1)}};_&&(null==_?void 0:_.lastActiveOrganizationId)&&e()},[t]),!_)return null;let C=e=>{j(t=>t&&t.id===e.id?null:e)};return!w&&n&&a&&_?(0,s.jsx)("div",{className:"container min-w-full",style:{marginTop:"16px"},children:0===g.length?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)("p",{children:1===b?(0,s.jsx)(s.Fragment,{children:v}):(0,s.jsxs)("div",{children:[v,(0,s.jsxs)(r.default,{href:"/create-organization",className:"text-blue-500",children:[" ","Click here to get started"]})]})})}),(0,s.jsx)("div",{className:"text-center mt-10",style:{marginTop:"32px"},children:(0,s.jsx)(r.default,{href:"/add/endpoint",children:(0,s.jsx)("button",{className:"bg-gray-900 mt-5 text-white px-8 py-4 text-lg font-semibold rounded hover:bg-gray-700 hover:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-700 focus:ring-opacity-50",disabled:!_,children:(0,s.jsxs)("span",{className:"relative inline-flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"\xa0 Create Endpoint"]})})})})]}):(0,s.jsxs)("table",{className:"container min-w-full border-collapse border table-auto",style:{marginTop:"16px"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:x,children:"Timestamp"}),(0,s.jsx)("th",{className:x,children:"Name"}),(0,s.jsx)("th",{className:x,children:"API Endpoint"}),(0,s.jsx)("th",{className:x,children:"Requests / Minute"}),(0,s.jsx)("th",{className:x,children:"Requests Payload"}),(0,s.jsx)("th",{className:x,children:"View"})]})}),(0,s.jsx)("tbody",{className:"bg-white",children:g.map(e=>(0,s.jsxs)(c.Fragment,{children:[(0,s.jsxs)("tr",{onClick:()=>C(e),children:[(0,s.jsx)("td",{className:m,children:new Date(e.ts).toLocaleString()}),(0,s.jsx)("td",{className:m,children:e.name}),(0,s.jsx)("td",{className:m,children:e.endpoint_url}),(0,s.jsx)("td",{className:m,children:e.requests_per_minute}),(0,s.jsx)("td",{className:m,children:JSON.stringify({[e.payload_user_key]:"user_id",[e.payload_message_key]:"user_chat"})}),(0,s.jsx)("td",{className:m,children:(0,s.jsx)(r.default,{href:"/view/endpoints/".concat(e.id),rel:"noopener noreferrer",children:(0,s.jsx)(h.G,{icon:d._tD,className:"text-sm text-gray-900 hover:text-blue-500"})})})]},e.id),f&&f.id===e.id&&(0,s.jsx)("tr",{})]},e.id))})]})}):(0,s.jsx)("div",{className:"container min-w-full text-sm",style:{marginTop:"16px"},children:"Loading..."})};function x(e){let{searchParams:t}=e,{session:n}=(0,i.ll)(),[o,d]=(0,c.useState)("");if(!n)return null;let h=async e=>{"Enter"===e.key&&d(e.currentTarget.value)};return(0,s.jsx)("div",{children:n?(0,s.jsxs)("main",{className:"p-4 md:p-10 mx-auto max-w-7xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[" ",(0,s.jsxs)("div",{className:"relative flex items-center w-full",children:[" ",(0,s.jsx)("input",{disabled:!n,type:"text",placeholder:"Search app endpoint... press enter to submit",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onKeyDown:h}),(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(l.Z,{className:"h-5 w-5 text-gray-400"})})]}),(0,s.jsx)(r.default,{href:"/add/endpoint",children:(0,s.jsx)(a.z,{className:"bg-gray-900 text-white hover:bg-gray-700 border-white hover:border-white pl-4",children:(0,s.jsxs)("span",{className:"relative inline-flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"\xa0 New Endpoint"]})})})]}),(0,s.jsx)(u,{searchTerm:o})]}):(0,s.jsx)(s.Fragment,{})})}},4990:function(e,t,n){"use strict";n.d(t,{z:function(){return s.Z}});var s=n(886)},2445:function(){}},function(e){e.O(0,[3676,1693,8682,886,8792,7908,9506,8124,2971,8069,1744],function(){return e(e.s=9791)}),_N_E=e.O()}]);