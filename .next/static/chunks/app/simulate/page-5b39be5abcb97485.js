(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1145],{602:function(e,t,s){Promise.resolve().then(s.bind(s,5343))},5343:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var n=s(3827),a=s(4990),r=s(8792),i=s(1693),l=s(6269),c=s(4090);s(2445);var o=s(7908),d=s(7535),h=s(8024),u=function(e){let{searchTerm:t}=e,{isLoaded:s,userId:a,sessionId:l,getToken:u}=(0,i.aC)(),x="px-4 py-2 leading-5 text-center bg-gray-50 text-sm text-gray-900 tracking-wider",m="px-6 py-4 leading-5 text-center bg-white text-sm text-gray-900 tracking-wider whitespace-no-wrap leading-5",[g,j]=(0,c.useState)([]),[f,p]=(0,c.useState)(null),[v,N]=(0,c.useState)("No dataset found. Why not create a new dataset? Click the button\n  above to get started!"),[w,b]=(0,c.useState)(!0),[y,_]=(0,c.useState)(0),{session:k}=(0,i.ll)();if((0,c.useEffect)(()=>{let e=async()=>{try{b(!0),_(1),(null==k?void 0:k.lastActiveOrganizationId)?N("No evaluations found. Why not create a new one ? Add a evaluation to get started in above button"):(_(0),N("No organization found. Please create an organization first."))}catch(e){console.error("Error fetching user data:",e)}finally{b(!1)}};k&&e()},[k]),(0,c.useEffect)(()=>{let e=async()=>{try{if(b(!0),""!==t.trim()){let e=await o.Z.get("".concat("http://0.0.0.0:8000","/api/simulation/search"),{params:{org_id:null==k?void 0:k.lastActiveOrganizationId,user_id:a,search:t,skip:0,limit:100}});j(e.data)}else{let e=await o.Z.get("".concat("http://0.0.0.0:8000","/api/simulation/list"),{params:{user_id:a,org_id:null==k?void 0:k.lastActiveOrganizationId,skip:0,limit:100}});j(e.data)}b(!1),_(1)}catch(e){_(0),console.error("Error fetching:",e),b(!1)}};k&&(null==k?void 0:k.lastActiveOrganizationId)&&e()},[t]),!k)return null;let E=e=>{p(t=>t&&t.id===e.id?null:e)};return!w&&s&&a&&k?(0,n.jsx)("div",{className:"container min-w-full",style:{marginTop:"16px"},children:0===g.length?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm",children:(0,n.jsx)("p",{children:1===y?(0,n.jsx)(n.Fragment,{children:v}):(0,n.jsxs)("div",{children:[v,(0,n.jsxs)(r.default,{href:"/create-organization",className:"text-blue-500",children:[" ","Click here to get started"]})]})})}),(0,n.jsx)("div",{className:"text-center mt-10",style:{marginTop:"32px"},children:(0,n.jsx)(r.default,{href:"/add/simulator",children:(0,n.jsx)("button",{className:"bg-gray-900 mt-5 text-white px-8 py-4 text-lg font-semibold rounded hover:bg-gray-700 hover:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-700 focus:ring-opacity-50",disabled:!k,children:(0,n.jsxs)("span",{className:"relative inline-flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"\xa0 Create Evaluation"]})})})})]}):(0,n.jsxs)("table",{className:"container min-w-full border-collapse border table-auto",style:{marginTop:"16px"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:x,children:"Timestamp"}),(0,n.jsx)("th",{className:x,children:"Evaluation Id"}),(0,n.jsx)("th",{className:x,children:"Evaluation Name"}),(0,n.jsx)("th",{className:x,children:"Number of Users"}),(0,n.jsx)("th",{className:x,children:"Dataset"}),(0,n.jsx)("th",{className:x,children:"Endpoint"}),(0,n.jsx)("th",{className:x,children:"Status"}),(0,n.jsx)("th",{className:x,children:"View"})]})}),(0,n.jsx)("tbody",{className:"bg-white",children:g.map(e=>(0,n.jsxs)(c.Fragment,{children:[(0,n.jsxs)("tr",{onClick:()=>E(e),children:[(0,n.jsx)("td",{className:m,children:new Date(e.ts).toLocaleString()}),(0,n.jsx)("td",{className:m,children:e.id}),(0,n.jsx)("td",{className:m,children:e.name}),(0,n.jsx)("td",{className:m,children:e.num_users}),(0,n.jsx)("td",{className:m,children:(0,n.jsx)(r.default,{href:"/view/datasets/".concat(e.dataset_id),rel:"noopener noreferrer",children:(0,n.jsx)("span",{className:"relative text-blue-500 inline-flex items-center",children:e.dataset_id})})}),(0,n.jsx)("td",{className:m,children:(0,n.jsx)(r.default,{href:"/view/endpoints/".concat(e.endpoint_url_id),rel:"noopener noreferrer",children:(0,n.jsx)("span",{className:"relative text-blue-500 inline-flex items-center",children:e.endpoint_url_id})})}),(0,n.jsxs)("td",{className:m,children:["completed"===e.status&&(0,n.jsx)(h.G,{icon:d.f8k,style:{color:"green"}}),"in_progress"===e.status&&(0,n.jsx)(h.G,{icon:d.LM3,spin:!0,style:{color:"blue"}}),"error"===e.status&&(0,n.jsx)(h.G,{icon:d.nYk,style:{color:"red"}}),(!e.status||""===e.status)&&""]}),(0,n.jsx)("td",{className:m,children:(0,n.jsx)(r.default,{href:"/view/simulation/".concat(e.id),rel:"noopener noreferrer",children:(0,n.jsx)(h.G,{icon:d._tD,className:"text-sm text-gray-900 hover:text-blue-500"})})})]},"".concat(e.ts,"-").concat(e.simulation_id)),f&&f.id===e.id&&(0,n.jsx)("tr",{children:(0,n.jsxs)("td",{colSpan:6,className:m,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Evaluation ID:"})," ",e.simulation_id]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Average Score:"})," ",e.average_score]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Dataset Name:"})," ",e.dataset_name]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Endpoint Name:"})," ",e.endpoint_name]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Evaluation Name:"})," ",e.simulation_name]})]})})]},"".concat(e.ts,"-").concat(e.simulation_id)))})]})}):(0,n.jsx)("div",{className:"container min-w-full text-sm",style:{marginTop:"16px"},children:"Loading..."})};function x(e){let{searchParams:t}=e,{session:s}=(0,i.ll)(),[o,d]=(0,c.useState)("");if(!s)return null;let h=async e=>{"Enter"===e.key&&d(e.currentTarget.value)};return(0,n.jsx)("div",{children:s?(0,n.jsxs)("main",{className:"p-4 md:p-10 mx-auto max-w-7xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[" ",(0,n.jsxs)("div",{className:"relative flex items-center w-full",children:[" ",(0,n.jsx)("input",{disabled:!s,type:"text",placeholder:"Search simulations... press enter to submit",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onKeyDown:h}),(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,n.jsx)(l.Z,{className:"h-5 w-5 text-gray-400"})})]}),(0,n.jsx)(r.default,{href:"/add/simulator",children:(0,n.jsx)(a.z,{className:"bg-gray-900 text-white hover:bg-gray-700 border-white hover:border-white pl-4",children:(0,n.jsxs)("span",{className:"relative inline-flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"\xa0 New Evaluation"]})})})]}),(0,n.jsx)(u,{searchTerm:o})]}):(0,n.jsx)(n.Fragment,{})})}},4990:function(e,t,s){"use strict";s.d(t,{z:function(){return n.Z}});var n=s(886)},2445:function(){}},function(e){e.O(0,[3676,1693,8682,886,8792,7908,9506,8124,2971,8069,1744],function(){return e(e.s=602)}),_N_E=e.O()}]);