(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2750],{7385:function(e,t,a){Promise.resolve().then(a.bind(a,4227))},4227:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(3827),n=a(1693),l=a(6269),i=a(4090);a(2445);var r=a(7908),c=a(8792),d=a(7535),o=a(8024),u=function(e){let{searchTerm:t}=e,{isLoaded:a,userId:l,sessionId:u,getToken:h}=(0,n.aC)(),x="px-4 py-2 leading-5 text-center bg-gray-50 text-sm text-gray-900 tracking-wider",m="px-6 py-4 leading-5 text-center bg-white text-sm text-gray-900 tracking-wider whitespace-no-wrap leading-5",[g,j]=(0,i.useState)([]),[p,f]=(0,i.useState)(null),[v,N]=(0,i.useState)("No dataset found. Why not create a new dataset? Click the button\n  above to get started!"),[y,b]=(0,i.useState)(!0),[_,w]=(0,i.useState)(0),{session:S}=(0,n.ll)();if((0,i.useEffect)(()=>{let e=async()=>{try{b(!0),w(1),(null==S?void 0:S.lastActiveOrganizationId)?N("No llm/rag evaluations found. Why not create a new one ? Add a simiulation to get started in chat simulator"):(w(0),N("No organization found. Please create an organization first."))}catch(e){console.error("Error fetching user data:",e)}finally{b(!1)}};S&&e()},[S]),(0,i.useEffect)(()=>{let e=async()=>{try{if(b(!0),""!==t.trim()){let e=await r.Z.get("".concat("http://0.0.0.0:8000","/api/evaluation/search"),{params:{org_id:null==S?void 0:S.lastActiveOrganizationId,user_id:l,search:t}});j(e.data)}else{let e=await r.Z.get("".concat("http://0.0.0.0:8000","/api/evaluation/list"),{params:{user_id:l,org_id:null==S?void 0:S.lastActiveOrganizationId}});j(e.data)}b(!1),w(1)}catch(e){w(0),console.error("Error fetching:",e),b(!1)}};S&&(null==S?void 0:S.lastActiveOrganizationId)&&e()},[t]),!S)return null;let k=e=>{f(t=>t&&t.id===e.id?null:e)};return!y&&a&&l&&S?(0,s.jsx)("div",{className:"container min-w-full",style:{marginTop:"16px"},children:0===g.length?(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)("p",{children:1===_?(0,s.jsx)(s.Fragment,{children:v}):(0,s.jsxs)("div",{children:[v,(0,s.jsxs)(c.default,{href:"/create-organization",className:"text-blue-500",children:[" ","Click here to get started"]})]})})}):(0,s.jsxs)("table",{className:"container min-w-full border-collapse border table-auto",style:{marginTop:"16px"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:x,children:"Timestamp"}),(0,s.jsx)("th",{className:x,children:"Id"}),(0,s.jsx)("th",{className:x,children:"Score"}),(0,s.jsx)("th",{className:x,children:"Evaluation"}),(0,s.jsx)("th",{className:x,children:"Dataset"}),(0,s.jsx)("th",{className:x,children:"Endpoint"}),(0,s.jsx)("th",{className:x,children:"Status"}),(0,s.jsx)("th",{className:x,children:"View"})]})}),(0,s.jsx)("tbody",{className:"bg-white",children:g.map(e=>(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)("tr",{onClick:()=>k(e),children:[(0,s.jsx)("td",{className:m,children:new Date(e.last_updated).toLocaleString()}),(0,s.jsx)("td",{className:m,children:e.evaluation_id}),(0,s.jsx)("td",{className:m,children:e.average_score.toFixed(4)}),(0,s.jsx)("td",{className:m,children:e.simulation_name}),(0,s.jsx)("td",{className:m,children:e.dataset_name}),(0,s.jsx)("td",{className:m,children:e.endpoint_name}),(0,s.jsxs)("td",{className:m,children:["completed"===e.status&&(0,s.jsx)(o.G,{icon:d.f8k,style:{color:"green"}}),"in_progress"===e.status&&(0,s.jsx)(o.G,{icon:d.LM3,spin:!0,style:{color:"blue"}}),"error"===e.status&&(0,s.jsx)(o.G,{icon:d.nYk,style:{color:"red"}}),(!e.status||""===e.status)&&""]}),(0,s.jsx)("td",{className:m,children:(0,s.jsx)(c.default,{href:"/view/evaluation/".concat(e.evaluation_id),rel:"noopener noreferrer",children:(0,s.jsx)(o.G,{icon:d._tD,className:"text-sm text-gray-900 hover:text-blue-500"})})})]},"".concat(e.id,"-").concat(e.last_updated)),p&&p.id===e.id&&(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:6,className:m,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Simulation ID:"})," ",e.simulation_id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Average Score:"})," ",e.average_score]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Dataset Name:"})," ",e.dataset_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Endpoint Name:"})," ",e.endpoint_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Simulation Name:"})," ",e.simulation_name]})]})})]},"".concat(e.simulation_id,"-").concat(e.last_updated)))})]})}):(0,s.jsx)("div",{className:"container min-w-full text-sm",style:{marginTop:"16px"},children:"Loading..."})};function h(e){let{searchParams:t}=e,{session:a}=(0,n.ll)(),[r,c]=(0,i.useState)("");if(!a)return null;let d=async e=>{"Enter"===e.key&&c(e.currentTarget.value)};return(0,s.jsx)("div",{children:a?(0,s.jsxs)("main",{className:"p-4 md:p-10 mx-auto max-w-7xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[" ",(0,s.jsxs)("div",{className:"relative flex items-center w-full",children:[" ",(0,s.jsx)("input",{disabled:!a,type:"text",placeholder:"Search evaluations... press enter to submit",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onKeyDown:d}),(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(l.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,s.jsx)(u,{searchTerm:r})]}):(0,s.jsx)(s.Fragment,{})})}},2445:function(){}},function(e){e.O(0,[3676,1693,8682,8792,7908,9506,8124,2971,8069,1744],function(){return e(e.s=7385)}),_N_E=e.O()}]);